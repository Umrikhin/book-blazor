@page "/trainingblazor/showTenants"

<h2 class="text-primary">Наниматели</h2>
<div class="row border bg-light">
    @foreach (var row in tenants)
    {
        <div class="col-5 border p-3 bg-light me-2 mt-2 mb-2">
            <h4 class="text-secondary">Наниматель - @row.Id</h4>
            Ф.И.О.: @row.Fio<br />
            <div>
                Оповещать
                <input type="checkbox" @bind-value="@row.IsSend" checked="@(row.IsSend ? "checked" : null)" />
            </div>
            @if (row.IsSend)
            {
                @foreach (var item in row.Phones)
                {
                    <p>@item.TypePhone - @item.NumberPhone</p>
                }
            }
            <button class="btn btn-danger">Удалить</button>
            <button class="btn btn-success">Изменить</button>
        </div>
    }
</div>

@code {
    List<Tenant> tenants = new List<Tenant>()
    {
        new Tenant()
        {
            Id = 1,
            Fio = "Иванов Алексей Владимирович",
            Dr = DateTime.Parse("01.12.1980", CultureInfo.GetCultureInfo("ru")),
            DateContract = DateTime.Parse("10.10.2023", CultureInfo.GetCultureInfo("ru")),
            Commission = 12000.50d,
            IsSend = true,
            Phones = new List<Phone>()
            {
                new Phone() { Id = 1, TypePhone = "Мобильный", NumberPhone = "+79184003080" },
                new Phone() { Id = 2, TypePhone = "Домашний", NumberPhone = "2607060" },
                new Phone() { Id = 3, TypePhone = "Рабочий", NumberPhone = "2355050" }
            }
        },
        new Tenant()
        {
            Id = 2,
            Fio = "Кузнецова Анна Петровна",
            Dr = DateTime.Parse("20.10.1985", CultureInfo.GetCultureInfo("ru")),
            DateContract = DateTime.Parse("15.03.2024", CultureInfo.GetCultureInfo("ru")),
            Commission = 14000.15d,
            IsSend = true,
            Phones = new List<Phone>()
            {
                new Phone() { Id = 1, TypePhone = "Мобильный", NumberPhone = "+79096007070" },
                new Phone() { Id = 2, TypePhone = "Домашний", NumberPhone = "2601050" },
                new Phone() { Id = 3, TypePhone = "Рабочий", NumberPhone = "2552040" }
            }
        }
    };
}
